{"ast":null,"code":"import { useRouter } from \"vue-router\";\nimport router from \"@/router\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const store = useStore(); // 该方法用于返回store 实例\n    console.log(\"store:::::\");\n    console.log(store); // store 实例对象\n    const router = useRouter();\n    return {\n      store\n    };\n  },\n  name: \"LoginPage\",\n  data() {\n    return {\n      loginInfo: {\n        userID: '',\n        password: '',\n        registrationID: ''\n      },\n      responseResult: {\n        uid: '',\n        registrationId: '',\n        identityKeyPair: '',\n        preKeys: '',\n        signedPreKey: ''\n      }\n    };\n  },\n  methods: {\n    login() {\n      this.$http.post('/login', {\n        username: this.loginInfo.userID,\n        password: this.loginInfo.password\n      }).then(successResponse => {\n        if (successResponse.data.code === 200) {\n          this.store.dispatch('registration', this.loginInfo.userID);\n          router.replace(\"/chat\");\n        } else {\n          alert(\"wrong\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["useRouter","router","useStore","setup","store","console","log","name","data","loginInfo","userID","password","registrationID","responseResult","uid","registrationId","identityKeyPair","preKeys","signedPreKey","methods","login","$http","post","username","then","successResponse","code","dispatch","replace","alert"],"sources":["D:\\E2EE\\demo777\\newVision\\E2EE_Project\\front\\E2EE\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    Username: <input type=\"text\" v-model=\"loginInfo.userID\" placeholder=\"Input username\"/>\r\n    <br><br>\r\n    Password: <input type=\"text\" v-model=\"loginInfo.password\" placeholder=\"Input pwd\"/>\r\n    <br><br>\r\n    <button v-on:click=\"login\">Login</button>\r\n    <br><br>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from \"vue-router\";\r\nimport router from \"@/router\";\r\nimport {useStore} from \"vuex\";\r\n\r\nexport default {\r\n  setup() {\r\n    const store = useStore()  // 该方法用于返回store 实例\r\n    console.log(\"store:::::\")\r\n    console.log(store)  // store 实例对象\r\n    const router = useRouter();\r\n    return {store};\r\n  },\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      loginInfo: {\r\n        userID: '',\r\n        password: '',\r\n        registrationID: '',\r\n      },\r\n      responseResult: {\r\n        uid:'',\r\n        registrationId:'',\r\n        identityKeyPair:'',\r\n        preKeys:'',\r\n        signedPreKey:''\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      this.$http.post('/login', {\r\n        username: this.loginInfo.userID,\r\n        password: this.loginInfo.password,\r\n      }).then(successResponse => {\r\n        if (successResponse.data.code === 200) {\r\n          this.store.dispatch('registration', this.loginInfo.userID);\r\n          router.replace(\"/chat\");\r\n        } else {\r\n          alert(\"wrong\")\r\n        }\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":"AAYA,SAAQA,SAAS,QAAO,YAAY;AACpC,OAAOC,MAAK,MAAO,UAAU;AAC7B,SAAQC,QAAQ,QAAO,MAAM;AAE7B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIF,QAAQ,EAAC,EAAG;IAC1BG,OAAO,CAACC,GAAG,CAAC,YAAY;IACxBD,OAAO,CAACC,GAAG,CAACF,KAAK,GAAG;IACpB,MAAMH,MAAK,GAAID,SAAS,EAAE;IAC1B,OAAO;MAACI;IAAK,CAAC;EAChB,CAAC;EACDG,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE;QACTC,MAAM,EAAE,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,cAAc,EAAE;MAClB,CAAC;MACDC,cAAc,EAAE;QACdC,GAAG,EAAC,EAAE;QACNC,cAAc,EAAC,EAAE;QACjBC,eAAe,EAAC,EAAE;QAClBC,OAAO,EAAC,EAAE;QACVC,YAAY,EAAC;MACf;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,KAAKA,CAAA,EAAG;MACN,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,QAAQ,EAAE;QACxBC,QAAQ,EAAE,IAAI,CAACd,SAAS,CAACC,MAAM;QAC/BC,QAAQ,EAAE,IAAI,CAACF,SAAS,CAACE;MAC3B,CAAC,CAAC,CAACa,IAAI,CAACC,eAAc,IAAK;QACzB,IAAIA,eAAe,CAACjB,IAAI,CAACkB,IAAG,KAAM,GAAG,EAAE;UACrC,IAAI,CAACtB,KAAK,CAACuB,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAClB,SAAS,CAACC,MAAM,CAAC;UAC1DT,MAAM,CAAC2B,OAAO,CAAC,OAAO,CAAC;QACzB,OAAO;UACLC,KAAK,CAAC,OAAO;QACf;MACF,CAAC;IACH;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}